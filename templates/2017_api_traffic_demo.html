<html>
  <head>
    <title>2017 API Traffic Demo</title>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        var counter =0;
        var socket = io.connect('http://' + document.domain  + ':' +  location.port);
        socket.on('connect', function() {
            //socket.emit('2017_api_traffic_demo_register_api', {data: 'I\'m connected!'});
        });
        socket.on('2017_api_traffic_demo_register_api_push', function(data) {
            $('#response').append('<p>'+data.api_name+'</p>');
        });        

        socket.on('disconnect', function(){console.log('disconnected');});
    </script>    
  </head>
  <body>
    <h1>Welcome to 2017 API Traffic Demo </h1>
    <h2>Availble websocket events are
# for item in events         
        <li>{{item}}</li>
# endfor       
    </h2> 
    <div id="response"> #response </div>
  </body>
</html>
